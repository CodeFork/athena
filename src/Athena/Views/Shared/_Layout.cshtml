@using Athena.Core.Models.Identity
@using Athena.Extensions
@using Microsoft.AspNetCore.Identity

@inject UserManager<AthenaUser> _um;

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"] - Athena</title>

    <link rel="stylesheet" type="text/css" href="~/athena.css" />
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
    <div class="navbar-fixed indigo darken-4">
        <nav>
            <div class="nav-wrapper indigo darken-4">
                <img src="~/images/owl icon.svg" class="left responsive-img" style="max-height:96px; max-width:96px; padding-left: 3em" />
    
                <a href="#" data-activates="mobile-demo" class="right button-collapse"><i class="material-icons">menu</i></a>
                <ul class="right hide-on-med-and-down">
                    <li><a href="NewAccountPage">New Account<i class="material-icons right">person_add</i></a></li>
                    <li><a href="Login_Page">Login<i class="material-icons right">person_outline</i></a></li>
                </ul>
    
    
                <h2 class="brand-logo no-pad-top">Athena</h2>
            </div>
        </nav>
    </div>
    <div class="container body-content">
        <div>
            <p>
                @if (User.Identity.IsAuthenticated)
                {
                    <h2>Welcome to Athena, @User.Identity.Name, or should I say @(User.GetStudent()?.Name ?? "unknown")</h2>
                }
                else
                {
                    <h2>Welcome to Athena! Please log in</h2>
                }
                
            </p>
        </div>
    </div>

    <ul class="side-nav" id="mobile-demo">
        <li><a href="NewAccountPage">New Account</a></li>
        <li><a href="Login_Page">Login</a></li>
    </ul>

    <div class="container body-content;">
        @RenderBody()
        <hr />
        <footer>
            <p>&copy; 2018 - Athena</p>
        </footer>
    </div>

    <script type="text/javascript" src="~/athena.js"></script>

    @RenderSection("Scripts", required: false)

    <script>    $(".button-collapse").sideNav();</script>

    <script>
        $('.button-collapse').sideNav({
            menuWidth: 300, // Default is 300
            edge: 'right', // Choose the horizontal origin
            closeOnClick: true, // Closes side-nav on <a> clicks, useful for Angular/Meteor
            draggable: true, // Choose whether you can drag to open on touch screens,
            onOpen: function (el) { /* Do Stuff*/ }, // A function to be called when sideNav is opened
            onClose: function (el) { /* Do Stuff*/ }, // A function to be called when sideNav is closed
        }
        );
    </script>

</body>
</html>